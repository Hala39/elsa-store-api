(self.webpackChunkelsa=self.webpackChunkelsa||[]).push([[343],{7343:(t,o,e)=>{"use strict";e.r(o),e.d(o,{ProductModule:()=>C});var n=e(1462),i=e(1116),s=e(878),r=e(8619),c=e(529),d=e(9996),l=e(2693);let u=(()=>{class t{constructor(t){this.apiCaller=t,this.baseUrl=c.N.ApiUrl}getProductById(t){return this.apiCaller.get(this.baseUrl+"product/"+t.toString()).pipe((0,d.U)(t=>(this.product=t,t)))}}return t.\u0275fac=function(o){return new(o||t)(r.LFG(l.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=e(2290),a=e(1455),h=e(8654),g=e(4568),m=e(4094);let b=(()=>{class t{constructor(t,o,e,n){this.colorService=t,this.messageService=o,this.activatedRoute=e,this.basketService=n,this.productId=+this.activatedRoute.snapshot.paramMap.get("id"),this.sizes=[],this.colors=[],this.quantity=1,this.selectedColor=null,this.selectedSize=null,this.max=1,this.loadProduct()}ngOnInit(){this.initializeDropdowns()}loadProduct(){this.product&&(0,s.of)(this.product),this.colorService.getProductById(this.productId).subscribe(t=>{t&&(this.product=t,this.productColors=t.colors,this.productColors.forEach(t=>{this.colors.push(t.color)}))},t=>{console.log(t)})}selectColor(t){const o=this.productColors.find(o=>o.color.name===t);o&&(this.sizes=this.sizes.concat(o.sizeOptions),this.product.mainImageUrl=o.url,this.max=o.quantity)}selectSize(t){null!==this.selectedSize&&(this.max=this.sizes.find(o=>o.size.name===t).quantity)}initializeDropdowns(){this.colors=[{id:0,name:"Select Color",inactive:!0}],this.sizes=[{size:{id:0,name:"Select Size",inactive:!0},quantity:20}]}addToBasket(){if(null===this.selectColor)this.messageService.add({severity:"warn",summary:"Missing Information",detail:"Please choose a color!"});else{if(null!==this.selectedSize)return this.basketService.addItemToBasket(this.product,this.quantity,this.selectedSize,this.selectedColor,this.product.mainImageUrl);this.messageService.add({severity:"warn",summary:"Missing Information",detail:"Please choose a size!"})}}}return t.\u0275fac=function(o){return new(o||t)(r.Y36(u),r.Y36(p.ez),r.Y36(a.gz),r.Y36(h.v))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-product"]],decls:30,vars:15,consts:[[1,"container-fluid","mt-4","px-5","py-5"],[1,"row"],[1,"col-12","col-sm-4","mb-3"],["alt","product.name",3,"src"],[1,"col-12","col-sm-8","pt-2","options"],[1,"row","mb-1"],[2,"font-weight","600"],[1,"row","mb-3"],[2,"font-weight","500"],[2,"font-weight","700"],[1,"p-toolbar-group-right"],["optionLabel","name","optionValue","name","optionDisabled","inactive",3,"options","ngModel","ngModelChange","click"],["optionLabel","size.name","optionValue","size.name","optionDisabled","inactive",1,"p-ml-3",3,"options","ngModel","ngModelChange","click"],["inputId","minmax","inputId","minmax","mode","decimal",1,"p-ml-3",3,"ngModel","showButtons","min","max","ngModelChange"],[1,"row","mt-4"],[1,"p-toolbar-group-right","pt-3"],["pRipple","","type","button",1,"btn","outlined","p-mr-2","p-d-inline-block",3,"click"],["pRipple","","type","button",1,"btn","heavy"]],template:function(t,o){1&t&&(r._UZ(0,"hr"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r._UZ(4,"img",3),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"h4",6),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"div",7),r.TgZ(10,"h5",8),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"div",7),r.TgZ(13,"h6"),r._uU(14),r.qZA(),r.qZA(),r.TgZ(15,"div",7),r.TgZ(16,"h3",9),r._uU(17),r.ALo(18,"currency"),r.qZA(),r.qZA(),r.TgZ(19,"div",7),r.TgZ(20,"div",10),r.TgZ(21,"p-dropdown",11),r.NdJ("ngModelChange",function(t){return o.selectedColor=t})("click",function(){return o.selectColor(o.selectedColor)}),r.qZA(),r.TgZ(22,"p-dropdown",12),r.NdJ("ngModelChange",function(t){return o.selectedSize=t})("click",function(){return o.selectSize(o.selectedSize)}),r.qZA(),r.TgZ(23,"p-inputNumber",13),r.NdJ("ngModelChange",function(t){return o.quantity=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"div",14),r.TgZ(25,"div",15),r.TgZ(26,"button",16),r.NdJ("click",function(){return o.addToBasket()}),r._uU(27,"ADD TO CART"),r.qZA(),r.TgZ(28,"button",17),r._uU(29,"BUY IT KNOW"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.Q6J("src",null==o.product?null:o.product.mainImageUrl,r.LSH),r.xp6(4),r.Oqu(null==o.product?null:o.product.name),r.xp6(3),r.Oqu(null==o.product?null:o.product.category.name),r.xp6(3),r.Oqu(null==o.product?null:o.product.description),r.xp6(3),r.Oqu(r.lcZ(18,13,null==o.product?null:o.product.price)),r.xp6(4),r.Q6J("options",o.colors)("ngModel",o.selectedColor),r.xp6(1),r.Q6J("options",o.sizes)("ngModel",o.selectedSize),r.xp6(1),r.Q6J("ngModel",o.quantity)("showButtons",!0)("min",1)("max",o.max))},directives:[g.Lt,n.JJ,n.On,m.Rn],pipes:[i.H9],styles:["img[_ngcontent-%COMP%]{width:100%;text-align:center}.color-option[_ngcontent-%COMP%]{width:80px;height:80px}.options[_ngcontent-%COMP%]{padding-left:5%}.d-grid[_ngcontent-%COMP%]{margin-left:15%;width:70%}.btn.outlined[_ngcontent-%COMP%]{background-color:#fff;color:#93f}.btn.heavy[_ngcontent-%COMP%], .btn.outlined[_ngcontent-%COMP%]{border:1px solid #93f;box-shadow:none}.btn.heavy[_ngcontent-%COMP%]{background-color:#93f;color:#fff}[_nghost-%COMP%]     .p-dropdown:not(.p-disabled).p-focus{box-shadow:none;border-color:gray}[_nghost-%COMP%]     .p-dropdown:focus{border:1px solid gray}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items .p-dropdown-item.p-highlight{background-color:#93f}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-inputnumber-input{width:50px;box-shadow:none}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-inputnumber-input:focus{border:1px solid gray}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down, [_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{box-shadow:none;border:#fff}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{background-color:#00d99f}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{background-color:#ffcb30}@media screen and (max-width:1000px){.container-fluid[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}}"]}),t})();var f=e(1945);const Z=[{path:"",component:b}];let C=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[i.ez,g.kW,m.L$,f.V,n.u5,a.Bz.forChild(Z)]]}),t})()}}]);