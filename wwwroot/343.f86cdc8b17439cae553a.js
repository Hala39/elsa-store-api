(self.webpackChunkelsa=self.webpackChunkelsa||[]).push([[343],{7343:(t,e,o)=>{"use strict";o.r(e),o.d(e,{ProductModule:()=>w});var n=o(673),i=o(1462),s=o(1116),r=o(878),c=o(8619),d=o(529),l=o(9996),u=o(2693);let a=(()=>{class t{constructor(t){this.apiCaller=t,this.baseUrl=d.N.ApiUrl}getProductById(t){return this.apiCaller.get(this.baseUrl+"product/"+t.toString()).pipe((0,l.U)(t=>(this.product=t,t)))}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(u.eN))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=o(2290),h=o(6566),g=o(8654),m=o(4568),b=o(4094),f=o(7422);let C=(()=>{class t{constructor(t,e,o,n,i){this.colorService=t,this.messageService=e,this.activatedRoute=o,this.basketService=n,this.router=i,this.productId=+this.activatedRoute.snapshot.paramMap.get("id"),this.sizes=[],this.colors=[],this.quantity=1,this.selectedColor=null,this.selectedSize=null,this.max=1,this.loadProduct()}ngOnInit(){this.initializeDropdowns(),window.scrollTo(0,0)}loadProduct(){this.product&&(0,r.of)(this.product),this.colorService.getProductById(this.productId).subscribe(t=>{t&&(this.product=t,this.productColors=t.colors,this.productColors.forEach(t=>{this.colors.push(t.color)}))},t=>{console.log(t)})}selectColor(t){const e=this.productColors.find(e=>e.color.name===t);e&&(this.sizes=this.sizes.concat(e.sizeOptions),this.product.mainImageUrl=e.url,this.max=e.quantity)}selectSize(t){null!==this.selectedSize&&(this.max=this.sizes.find(e=>e.size.name===t).quantity)}initializeDropdowns(){this.colors=[{id:0,name:"Color",inactive:!0}],this.sizes=[{size:{id:0,name:"Size",inactive:!0},quantity:20}]}addToBasket(){if(null===this.selectColor)this.messageService.add({severity:"warn",summary:"Missing Information",detail:"Please choose a color!"});else{if(null!==this.selectedSize)return this.basketService.addItemToBasket(this.product,this.quantity,this.selectedSize,this.selectedColor,this.product.mainImageUrl);this.messageService.add({severity:"warn",summary:"Missing Information",detail:"Please choose a size!"})}}buyItNow(){if(null===this.selectColor)this.messageService.add({severity:"warn",summary:"Missing Information",detail:"Please choose a color!"});else if(null===this.selectedSize)this.messageService.add({severity:"warn",summary:"Missing Information",detail:"Please choose a size!"});else{const t=this.basketService.mapProductItemToBasketItem(this.product,this.quantity,this.selectedSize,this.selectedColor,this.product.mainImageUrl);this.basketService.orderItemsSource.next([t]),this.router.navigateByUrl("/order/place")}}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(a),c.Y36(p.ez),c.Y36(h.gz),c.Y36(g.v),c.Y36(h.F0))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-product"]],decls:30,vars:16,consts:[[1,"container-fluid","mt-4","px-5","py-5"],[1,"row"],[1,"d-flex","justify-content-center","col-12","col-sm-4","mb-3"],[3,"src","alt"],[1,"col-12","col-sm-8","pt-2","options"],[1,"row","mb-1"],[2,"font-weight","600"],[1,"row","mb-3"],[2,"font-weight","500"],[2,"font-weight","700"],[1,"p-toolbar-group-right"],["optionLabel","name","optionValue","name","optionDisabled","inactive",3,"options","ngModel","ngModelChange","onChange"],["optionLabel","size.name","optionValue","size.name","optionDisabled","inactive",1,"p-ml-3",3,"options","ngModel","ngModelChange","onChange"],["inputId","minmax","inputId","minmax","mode","decimal",1,"quntity","p-ml-3",3,"ngModel","showButtons","min","max","ngModelChange"],[1,"row","mt-4"],[1,"p-toolbar-group-right","pt-3"],["pRipple","","type","button",1,"btn","outlined","p-mr-2","p-d-inline-block",3,"click"],["pRipple","","type","button",1,"btn","heavy",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._UZ(3,"img",3),c.qZA(),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"h4",6),c._uU(7),c.qZA(),c.qZA(),c.TgZ(8,"div",7),c.TgZ(9,"h5",8),c._uU(10),c.qZA(),c.qZA(),c.TgZ(11,"div",7),c.TgZ(12,"h6"),c._uU(13),c.qZA(),c.qZA(),c.TgZ(14,"div",7),c.TgZ(15,"h3",9),c._uU(16),c.ALo(17,"currency"),c.qZA(),c.qZA(),c.TgZ(18,"div",7),c.TgZ(19,"div",10),c.TgZ(20,"p-dropdown",11),c.NdJ("ngModelChange",function(t){return e.selectedColor=t})("onChange",function(){return e.selectColor(e.selectedColor)}),c.qZA(),c.TgZ(21,"p-dropdown",12),c.NdJ("ngModelChange",function(t){return e.selectedSize=t})("onChange",function(){return e.selectSize(e.selectedSize)}),c.qZA(),c.TgZ(22,"p-inputNumber",13),c.NdJ("ngModelChange",function(t){return e.quantity=t}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",14),c.TgZ(24,"div",15),c.TgZ(25,"button",16),c.NdJ("click",function(){return e.addToBasket()}),c._uU(26,"ADD TO CART"),c.qZA(),c.TgZ(27,"button",17),c.NdJ("click",function(){return e.buyItNow()}),c._uU(28,"BUY IT NOW"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(29,"app-footer")),2&t&&(c.xp6(3),c.Q6J("src",null==e.product?null:e.product.mainImageUrl,c.LSH)("alt",e.product.name),c.xp6(4),c.Oqu(null==e.product?null:e.product.name),c.xp6(3),c.Oqu(null==e.product?null:e.product.category.name),c.xp6(3),c.Oqu(null==e.product?null:e.product.description),c.xp6(3),c.Oqu(c.lcZ(17,14,null==e.product?null:e.product.price)),c.xp6(4),c.Q6J("options",e.colors)("ngModel",e.selectedColor),c.xp6(1),c.Q6J("options",e.sizes)("ngModel",e.selectedSize),c.xp6(1),c.Q6J("ngModel",e.quantity)("showButtons",!0)("min",1)("max",e.max))},directives:[m.Lt,i.JJ,i.On,b.Rn,f.c],pipes:[s.H9],styles:["img[_ngcontent-%COMP%]{cursor:pointer;width:100%}.color-option[_ngcontent-%COMP%]{width:80px;height:80px}.options[_ngcontent-%COMP%]{padding-left:5%}.d-grid[_ngcontent-%COMP%]{margin-left:15%;width:70%}.btn.outlined[_ngcontent-%COMP%]{background-color:#fff;color:#93f}.btn.heavy[_ngcontent-%COMP%], .btn.outlined[_ngcontent-%COMP%]{border:1px solid #93f;box-shadow:none}.btn.heavy[_ngcontent-%COMP%]{background-color:#93f;color:#fff}[_nghost-%COMP%]     .p-dropdown:not(.p-disabled).p-focus{box-shadow:none;border-color:gray}[_nghost-%COMP%]     .p-dropdown:focus{border:1px solid gray}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items .p-dropdown-item.p-highlight{background-color:#93f}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-inputnumber-input{width:50px;box-shadow:none}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-inputnumber-input:focus{border:1px solid gray}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down, [_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{box-shadow:none;border:#fff}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{background-color:#00d99f}[_nghost-%COMP%]     .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{background-color:#ffcb30}@media screen and (max-width:1000px){.container-fluid[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}img[_ngcontent-%COMP%]{max-width:95%;text-align:center}.quantity[_ngcontent-%COMP%]{margin-top:20px!important}}"]}),t})();var v=o(1945);const Z=[{path:"",component:C}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[s.ez,m.kW,b.L$,v.V,i.u5,n.m,h.Bz.forChild(Z)]]}),t})()}}]);